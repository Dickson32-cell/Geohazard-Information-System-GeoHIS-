# GeoHIS Environment Configuration Template
# Copy this file to .env and update values for your environment
# IMPORTANT: Never commit the actual .env file to version control!

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
# Options: development, staging, production
ENVIRONMENT=development

# Enable debug mode (MUST be false in production)
DEBUG=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://geohis_user:CHANGE_THIS_PASSWORD@localhost:5432/geohis

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# =============================================================================
# AUTHENTICATION (CRITICAL - CHANGE IN PRODUCTION!)
# =============================================================================
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_KEY_IN_PRODUCTION

# JWT algorithm and token lifetime
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3001,http://localhost:8081

# =============================================================================
# RATE LIMITING
# =============================================================================
# Enable rate limiting (recommended for production)
RATE_LIMIT_ENABLED=true

# Rate limits per endpoint type
RATE_LIMIT_REQUESTS=100/minute
RATE_LIMIT_UPLOAD=10/minute
RATE_LIMIT_AUTH=5/minute

# =============================================================================
# FILE UPLOAD LIMITS
# =============================================================================
# Maximum file upload size in MB
MAX_UPLOAD_SIZE_MB=50

# Maximum coordinates per analysis request
MAX_COORDINATES_PER_REQUEST=10000

# =============================================================================
# REDIS (for caching and background tasks)
# =============================================================================
# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Enable caching
CACHE_ENABLED=true

# Cache time-to-live in seconds
CACHE_TTL_SECONDS=300

# =============================================================================
# CELERY (for background task processing)
# =============================================================================
# Celery broker (Redis database 1)
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery result backend (Redis database 2)
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# GEOSERVER (optional, for WMS/WFS services)
# =============================================================================
GEOSERVER_ADMIN_PASSWORD=CHANGE_THIS_PASSWORD

# =============================================================================
# DOCKER DEPLOYMENT
# =============================================================================
# PostgreSQL settings for docker-compose
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
